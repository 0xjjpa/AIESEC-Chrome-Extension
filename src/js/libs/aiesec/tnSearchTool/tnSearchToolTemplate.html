<div class="span4 first" data-bind="with: core">
  
  <div id="options" class="thumbnail main" data-bind="with: searchFilter">
    <h5 class="caption-title"> Select options and search for TN's </h5>
    <div class="caption">   
      <div class="control-group">                
        <label class="control-label" for="tn-search-scope">Select Range</label>
        <div class="controls">                  
          <select id="tn-search-scope" data-bind="options: searchScopeOptions, optionsText: 'name', optionsValue: 'scopeValue', value: selectedScope, chosen: true"></select>          
        </div>
      </div>
      <div class="control-group" data-bind="with:selectedScope">                
        <!-- ko if:$parent.selectedScopeHasSubscope -->
        <label class="control-label" for="tn-search-subscope">Select Committee</label>
        <div class="controls">
        <select id="tn-search-subscope" data-bind="options: $parent.searchSubscopeOptions, optionsText: 'name', optionsValue: 'scopeValue', value: $parent.selectedSubscope, chosen: true"></select>     
        </div>
        <!-- /ko -->   
      </div>
      <div class="control-group">                
        <label class="control-label" for="tn-search-exchange">Select Type of Exchange</label>
        <div class="controls">                  
          <select id="tn-search-exchange" data-bind="options: typeOfInternship, optionsText: 'label', optionsValue: 'value', value: selectedTypeOfExchange, chosen: true"></select>          
        </div>
      </div>
      <div class="control-group">                
        <label class="control-label" for="tn-search-startDuration">Select Minimum Duration (Weeks)</label>
        <div class="controls">                  
          <select id="tn-search-startDuration" data-bind="options: startDurationOptions, value: startDuration, chosen: true"></select>          
        </div>
      </div>
      <div class="control-group">                
        <label class="control-label" for="tn-search-endDuration">Select Maximum Duration (Weeks)</label>
        <div class="controls">                  
          <select id="tn-search-endDuration" data-bind="options: endDurationOptions, value: endDuration, chosen: true"></select>          
        </div>
      </div>
      <div class="controls">
        <button type="submit" data-bind="click: submitSearch" class="btn btn-primary">Search</button>        
      </div>
    </div>
  </div>

  <div id="storage" class="thumbnail main" data-bind="with: searchFilter">
    <h5 class="caption-title-bottom"> Load a search<small> Clear all <i data-bind="click:clearSavedSearches" class="icon-trash"></i></small></h5>
    <!-- ko foreach: savedSearchResults -->
    <div class="caption">
      <small data-bind="text: searchScope"> SCOPE </small><br/>
      <h6 data-bind="text: timestamp">TIMESTAMP</h6>
      <span data-bind="text: categories" class="label label-info"> CATEGORIES </span>&nbsp;<span data-bind="text: results" class="label label-inverse"> RESULTS</span>
      <div class="icons">
        <i data-bind="click: $parents[0].loadSavedSearchResult" class="icon-share-alt"></i>
        <i data-bind="click: $parents[0].deleteSavedSearchResult" class="icon-remove"></i>
      </div>
    </div>
    <!-- /ko -->
  </div>

</div>


<div class="span6 last" data-bind="with: core">
  <div id="results" class="thumbnail main" data-bind="with: searchFilter">                        
    <h5 class="caption-title"> Results 
    <small data-bind="text: currentSearch"></small>
  </h5>

      <!-- ko ifnot:emptyResults -->
        <!-- ko foreach:searchResults-->
        <div data-bind="click: $parents[0].loadBackground, css: { result: !showBackgroundResults() }" class="thumbnail">
          <div class="caption">
            <div class="caption-holder">
              <h5 data-bind="text:name">NAME</h5>
              <small>Found <span data-bind="text:count">COUNT</span></small>
            </div>
          </div>

          <!-- ko ifnot: showBackgroundResults -->
          <i class="arrow icon-chevron-right "></i>
          <!-- /ko -->
          <!-- ko if: showBackgroundResults -->
          <i data-bind="click: $parents[0].hideBackground, clickBubble: false" class="arrow icon-chevron-down "></i>
          <!-- /ko -->
          
          <!-- ko if: showBackgroundResults -->
          <div class="caption" data-bind="foreach: backgroundResults">
            <div class="caption-half-holder">
              <h5>TN's Id <small data-bind="text: id">ID</small></h5>
              <h5>Organization <small data-bind="text: organization">ORGANIZATION</small></h5>
              <h5>Committee <small data-bind="text: committee">COMMITTEE</small></h5>
            </div>
            <div class="caption-half-holder">
              <h5>Country <small data-bind="text: country">COUNTRY</small></h5>
              <h5>Date Released <small data-bind="text: date">DATE</small></h5>
              <h5><a data-bind="click: $parents[1].loadTN, clickBubble: false" href="#">View summary</a></h5>
            </div>
            <div class="caption-holder tnSummary" data-bind="with: tnSummary">
              <h6>About</h6><span data-bind="text: about">ABOUT</span><br/>
              <h6>Department</h6><span data-bind="text: department">DEPARTMENT</span><br/>
              <h6>Description</h6><span data-bind="text: description">DESCRIPTION</span>
            </div>
            <hr>
          </div>
          <!-- /ko -->
        </div>
        <!-- /ko -->
      <!-- /ko -->

      <!-- ko if:emptyResults -->

        <!-- ko if:isLoading -->
        <div class="thumbnail">
          <div class="caption">
            <div class="caption-holder">
              <h5>Loading search...</h5>
            </div>
          </div>
        </div>
        <!-- /ko -->

        <!-- ko ifnot:isLoading -->

          <!-- ko if:firstSearch -->
          <div class="thumbnail">
            <div class="caption">
              <div class="caption-holder">
                <h5>Please select your options and press search.</h5>
              </div>
            </div>
          </div>
          <!-- /ko -->

          <!-- ko ifnot:firstSearch -->
          <div class="thumbnail">
            <div class="caption">
              <div class="caption-holder">
                <h5>We didn't find any TN's that match your options.</h5>
              </div>
            </div>
          </div>
          <!-- /ko -->

        <!-- /ko -->

      <!-- /ko -->

  </div>
</div>